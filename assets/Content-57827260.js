import{r as v,o,c,w as P,u as l,i as y,b as n,t as r,_ as h,d as $,e as m,f as k,F as b,g as f,h as x,a as C,j as B,k as w}from"./index-12082f72.js";const D={class:"main__content-list-item"},N={alt:"",class:"main__content-list-item-img"},V={class:"main__content-list-item-name"},z={__name:"ContentItem",props:["item"],setup(e){return(t,s)=>{const a=v("lazy");return o(),c("div",D,[P(n("img",N,null,512),[[a,l(y)+e.item.backdrop_path]]),n("h2",V,r(e.item.name||e.item.title),1)])}}};const F={class:"pagination"},I=["disabled"],S=["disabled"],j={__name:"Pagination",props:["currentPage","totalPages"],setup(e){return(t,s)=>(o(),c("div",F,[n("button",{onClick:s[0]||(s[0]=a=>t.$emit("page",e.currentPage-1)),disabled:e.currentPage==1},"back",8,I),n("span",null,"Страница "+r(e.currentPage)+" - "+r(e.totalPages),1),n("button",{onClick:s[1]||(s[1]=a=>t.$emit("page",e.currentPage+1)),disabled:e.currentPage==e.totalPages},"next",8,S)]))}},q=h(j,[["__scopeId","data-v-7e04a6d6"]]),E={key:0,class:"container"},L={class:"main__content"},M={class:"main__content-title"},R={class:"main__content-list"},A={__name:"Content",props:["type"],setup(e){const t=e,s=w(),a=$(),i=m(1),g=m(500);a.getPopular({type:t.type,page:1});const u=k(()=>t.type=="movie"?a.popularMovies:a.popularTvs),p=async _=>{i.value=_,await a.getPopular({type:t.type,page:i.value}),s.push({name:t.type,query:{page:i.value}})};return(_,T)=>l(u)?(o(),c("div",E,[n("div",L,[n("h2",M,r(e.type=="movie"?"Все фильмы":"Все сериалы"),1),n("div",R,[(o(!0),c(b,null,f(l(u),d=>(o(),x(z,{key:d.id,item:d},null,8,["item"]))),128))]),C(q,{currentPage:i.value,totalPages:g.value,onPage:p},null,8,["currentPage","totalPages"])])])):B("",!0)}};export{A as _};
